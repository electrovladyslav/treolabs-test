{"version":3,"file":"main.js","sources":["js/screens/products-list.js","js/server-communication.js","js/screens/login.js","js/initialState.js","js/app.js","js/main.js"],"sourcesContent":["class ProductsList {\n  constructor(state) {\n    this.state = state;\n    this._initialProducts = this._products = state.products;\n    this._container = document.querySelector(`.products-list`);\n\n    this._sortUp = this._sortUp.bind(this);\n    this._sortDown = this._sortDown.bind(this);\n    this._filter = this._filter.bind(this);\n    this._resetFilters = this._resetFilters.bind(this);\n    this._addToCart = this._addToCart.bind(this);\n    this._removeFromCart = this._removeFromCart.bind(this);\n    this._showDetailedInfo = this._showDetailedInfo.bind(this);\n  }\n\n  get template() {\n    return `<h1 class=\"page-title\">TeoLabs Shop</h1>\n    <div class=\"products-sorts\">\n      <div class=\"products-sorts__price\">\n        <span class=\"products-sorts__price-description\">Sort by price</span>\n        <button class=\"products-sorts__price-button products-sorts__price-button--increment\">↑</button>\n        <button class=\"products-sorts__price-button products-sorts__price-button--decrement\">↓</button>\n      </div>\n\n      <div class=\"products-sorts__filter\">\n        <span class=\"products-sort__filter-description\">Filter by price. More than</span>\n        <input type=\"number\" class=\"products-sorts__filter-price  products-sorts__filter-price--low\" value=\"200\">\n        <span class=\"products-sort__filter-description\">Less than</span>\n        <input type=\"number\" class=\"products-sorts__filter-price  products-sorts__filter-price--high\" value=\"700\">\n        <button class=\"products-sorts__filter-button\">Filter</button>\n        <button class=\"products-sorts__filter-reset-button\">Reset filters</button>\n\n      </div>\n    </div>\n    <section class=\"products-list\"></section>\n    <hr>\n    <section class=\"visited-products\">\n    <h2 class=\"visited-products__title\">Visited products</h2>\n    <div class=\"visited-products__list\"></div>\n    </section>\n    `;\n  }\n\n  render() {\n    this._domTemplate = document.createElement(`template`);\n    this._domTemplate.innerHTML = this.template;\n\n    this._container = document.querySelector(`.root`);\n    this._container.innerHTML = ``;\n    this._container.appendChild(this._domTemplate.content);\n\n    this._renderCardList();\n  }\n\n  _renderCardList() {\n    this._cardListContainer = document.querySelector(`.products-list`);\n    this._cardListContainer.innerHTML = ``;\n\n    const productCards = this._products\n      .map((product) => {\n        const amountInCart =\n          this.state.productsInCart[product.id] === void 0\n            ? 0\n            : this.state.productsInCart[product.id];\n        const productCard = `\n        <div class=\"product\">\n          <h2 class=\"product__title\">${product.title}</h2>\n          <img class=\"product__image\" src=\"${product.image}\" title=\"Click to see detailed information about this product\" data-product-id=\"${product.id}\">\n          <p class=\"product__description\">${product.description}</p>\n          <p class=\"product__price\">Price: \\$${product.price}</p>\n          <div class=\"product__cart\">\n            <button class=\"product__cart-btn  product__card-btn--remove\" title=\"Remove this product from cart\" data-product-id=\"${product.id}\">-</button>\n            <span class=\"product__cart-text\">\n              In your cart: ${amountInCart}\n            </span>\n            <button class=\"product__cart-btn  product__card-btn--add\" title=\"Add this product to cart\" data-product-id=\"${product.id}\">+</button> \n          </div>\n        </div>\n       `;\n        return productCard;\n      })\n      .join(``);\n    this._cardListContainer.innerHTML = productCards;\n    this._attachHandlers();\n  }\n\n  _attachHandlers() {\n    const sortingBtnUp = document.querySelector(\n      `.products-sorts__price-button--increment`\n    );\n    sortingBtnUp.addEventListener(`click`, this._sortUp);\n\n    const sortingBtnDown = document.querySelector(\n      `.products-sorts__price-button--decrement`\n    );\n    sortingBtnDown.addEventListener(`click`, this._sortDown);\n\n    this._filterPriceLowInput = document.querySelector(\n      `.products-sorts__filter-price--low`\n    );\n    this._filterPriceHighInput = document.querySelector(\n      `.products-sorts__filter-price--high`\n    );\n    const filterBtn = document.querySelector(`.products-sorts__filter-button`);\n    filterBtn.addEventListener(`click`, this._filter);\n\n    const filterResetBtn = document.querySelector(\n      `.products-sorts__filter-reset-button`\n    );\n    filterResetBtn.addEventListener(`click`, this._resetFilters);\n\n    const cartBtnsAdd = document.querySelectorAll(`.product__card-btn--add`);\n    cartBtnsAdd.forEach((cartBtn) =>\n      cartBtn.addEventListener(`click`, this._addToCart)\n    );\n\n    const cartBtnsRemove = document.querySelectorAll(\n      `.product__card-btn--remove`\n    );\n    cartBtnsRemove.forEach((cartBtn) =>\n      cartBtn.addEventListener(`click`, this._removeFromCart)\n    );\n\n    const poductsImages = document.querySelectorAll(`.product__image`);\n    poductsImages.forEach((cartBtn) =>\n      cartBtn.addEventListener(`click`, this._showDetailedInfo)\n    );\n  }\n\n  _addToCart(event) {\n    const productId = event.target.dataset.productId;\n    const currentAmountInCart =\n      this.state.productsInCart[productId] === void 0\n        ? 0\n        : this.state.productsInCart[productId];\n    this.state.productsInCart[productId] = currentAmountInCart + 1;\n    this._renderCardList();\n  }\n\n  _removeFromCart(event) {\n    const productId = event.target.dataset.productId;\n    const currentAmountInCart =\n      this.state.productsInCart[productId] === void 0\n        ? 0\n        : this.state.productsInCart[productId];\n    this.state.productsInCart[productId] =\n      currentAmountInCart - 1 < 0 ? 0 : currentAmountInCart - 1;\n    this._renderCardList();\n  }\n\n  _sortUp() {\n    this._products.sort((first, second) => first.price - second.price);\n    this._renderCardList();\n  }\n\n  _sortDown() {\n    this._products.sort((first, second) => second.price - first.price);\n    this._renderCardList();\n  }\n\n  _filter() {\n    const lowPrice = +this._filterPriceLowInput.value;\n    let highPrice = +this._filterPriceHighInput.value;\n    if (this._filterPriceHighInput.value === \"\") highPrice = Infinity;\n\n    this._products = this._initialProducts.filter(\n      (product) => product.price > lowPrice && product.price < highPrice\n    );\n    this._renderCardList();\n  }\n\n  _resetFilters() {\n    this._filterPriceLowInput.value = \"\";\n    this._filterPriceHighInput.value = \"\";\n    this._filter();\n  }\n\n  _showDetailedInfo(event) {\n    const productId = event.target.dataset.productId;\n    const product = this.state.products.find(\n      (element) => element.id == productId\n    );\n\n    const template = document.createElement(`template`);\n    template.innerHTML = `\n      <div class=\"popup\">\n        <button class=\"popup__close-btn\">X</button>\n        <p>Here you can find all detailed iformation about this product</p>\n        ${this._renderProductTemplate(product)}\n      </div>\n    `;\n    this._container.appendChild(template.content);\n\n    document\n      .querySelector(`.popup__close-btn`)\n      .addEventListener(\"click\", () =>\n        this._container.removeChild(document.querySelector(`.popup`))\n      );\n\n    if (this.state.visitedProducts.indexOf(productId) === -1) {\n      this.state.visitedProducts.push(productId);\n      this._addVisitedProduct(product);\n    }\n  }\n\n  _renderProductTemplate(product) {\n    return `\n    <h3 class=\"product__title\"> ${product.title}</h3>\n    <img class=\"product__image\" src=\"${product.image}\">\n    <p class=\"product__description\">${product.description}</p>\n    <p class=\"product__price\">Price: \\$${product.price}</p>\n    `;\n  }\n\n  _addVisitedProduct(product) {\n    const visitedProductsContainer = document.querySelector(\n      `.visited-products__list`\n    );\n    const template = document.createElement(`template`);\n    template.innerHTML = `\n    <div class=\"product\">\n      ${this._renderProductTemplate(product)}\n    </div>\n    `;\n    visitedProductsContainer.appendChild(template.content);\n  }\n}\n\nexport default ProductsList;\n","const SERVER_URL = `https://demo5782565.mockable.io/`;\nconst LOGIN_PATH = \"login\";\n\nexport const loadData = () => {\n  return fetch(SERVER_URL).then(\n    (res) => res.json(),\n    (err) => window.console.log(err)\n  );\n};\n\nexport const authorize = (data) => {\n  const init = {\n    method: \"POST\",\n    body: JSON.stringify(data),\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n\n  return fetch(SERVER_URL + LOGIN_PATH, init).then(\n    (res) => res.json(),\n    (err) => window.console.log(err)\n  );\n};\n","import {authorize} from \"../server-communication\";\n\nclass Login {\n  constructor() {}\n\n  get template() {\n    return `\n    <section class=\"login\">\n    <h1 class=\"login__title\">Please login</h1>\n    <form class=\"login__form\" action=\"#\" method=\"post\">\n      <label class=\"login__label\">\n        Username\n        <input class=\"login__input\" type=\"text\" name=\"login\" placeholder=\"Username\" required=\"\"/>\n      </label>\n      <label class=\"login__label\">Password\n        <input class=\"login__input\" type=\"password\" name=\"password\" placeholder=\"Password\" required=\"\">\n      </label>\n      <button class=\"login__submit\" type=\"submit\">Login</button>\n    </form>\n    </section>`;\n  }\n\n  render() {\n    this._domTemplate = document.createElement(`template`);\n    this._domTemplate.innerHTML = this.template;\n    const container = document.querySelector(`.root`);\n    container.innerHTML = ``;\n    this._attachHandlers();\n    container.appendChild(this._domTemplate.content);\n  }\n\n  _attachHandlers() {\n    const form = this._domTemplate.content.querySelector(`.login__form`);\n    form.addEventListener(\"submit\", (event) => {\n      event.preventDefault();\n      const data = {\n        login: event.target[0].value,\n        password: event.target[1].value\n      };\n      authorize(data).then(() => {location.hash = ''});\n    });\n  }\n}\n\nexport default Login;\n","const initialState = {\n  products: [],\n  productsInCart: {\n    // id: quantity\n  },\n  visitedProducts: [],\n};\n\nexport default initialState;\n","import ProductsList from \"./screens/products-list\";\nimport Login from \"./screens/login\";\nimport initialState from \"./initialState\";\n\nclass Application {\n  static init(products) {\n    this.state = Object.assign({}, initialState, {\n      products: products\n    });\n\n    this.routes = {\n      '': ProductsList,\n      'login': Login,\n\n    };\n\n    const hashChangeHandler = () => {\n      const path = location.hash.replace(`#`, ``);\n      this.changeHash(path);\n    };\n    window.onhashchange = hashChangeHandler;\n    hashChangeHandler();\n    this.redirectTo('login');\n  }\n\n  static changeHash(path) {\n    const Controller = this.routes[path];\n    if (Controller) {\n      const controller = new Controller(this.state);\n      controller.render();\n    }\n  }\n\n  static redirectTo(path) {\n    location.hash = path;\n  }\n}\n\nexport default Application;\n","import App from \"./app\";\nimport {loadData} from \"./server-communication\";\n\nloadData()\n  .then((data) => {\n    App.init(data);\n  })\n  // .catch((error) =>\n  //   window.console.log(\n  //     `There some problem with loading game-data from server. Try to refresh the page. \n  //     Error: ${error}`\n  //   )\n  // );\n"],"names":["App"],"mappings":"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"}